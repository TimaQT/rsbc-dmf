<div class="container">
  <div class="list padding-top">
    <h2>Get Assistance</h2>
    <div class="assistance-page">
      <div>
        <p>
          To get answers to your questions, you can look through our Help Topics below. You can also contact RSBC by phone if you prefer.
        </p>
      </div>
    
    </div>
    <div style="padding-top: 32px">
      <h2>Help Topics</h2>
      <div class="help">
        <div class="help-topics" cdkMenu>
          <button
            class="getAssistanceButton"
            (click)="recommendedTopics()"
            cdkMenuItem
          >
            <b>Get Assistance</b>
          </button>
         
        </div>
        @if (display === HelpTopics.ALL_TOPICS) {
          <div class="help-cards">
            <mat-card (click)="helpcard(HelpTopics.UPLOAD_EXTRA_DOCUMENT)">
              <mat-card-content
                ><b> Upload a Document </b>
                <div>
                  You have an extra document that you want to submit to RSBC.
                  Learn more about this process.
                </div>
              </mat-card-content>
            </mat-card>
            <mat-card (click)="helpcard(HelpTopics.VIEW_DMER_SUBMISSION)">
              <mat-card-content
                ><b> View DMER submission </b>
                <div>
                  DMERs submitted online by a medical practitioner will not be
                  visible to you. Learn how you can obtain a copy.
                </div>
              </mat-card-content>
            </mat-card>
            <mat-card (click)="helpcard(HelpTopics.RECEIVED_AN_INCORRECT_LETTER)">
              <mat-card-content
                ><b> Received an incorrect letter </b>
                <div>
                  If you have received a letter from RSBC which does not relate
                  to you find out how to report this to RSBC.
                </div>
              </mat-card-content>
            </mat-card>
            
          </div>
          <div class="help-cards">
            <mat-card (click)="helpcard(HelpTopics.DOCUMENT_HISTORY)">
              <mat-card-content
                ><b> Cannot see document in Submission History </b>
                <div>
                  In certain instances you will not immediately see your
                  document requirement appear in Submission History.
                </div>
              </mat-card-content>
            </mat-card>
            <mat-card (click)="helpcard(HelpTopics.REPLACEMENT_DOCUMENT)">
              <mat-card-content
                ><b>Submit a replacement document </b>
                <div>
                  Uploading an incorrect file can happen. Learn how you can
                  resubmit a document.
                </div>
              </mat-card-content>
            </mat-card>
            <mat-card (click)="helpcard(HelpTopics.REQUEST_EXTENSION)">
              <mat-card-content
                ><b> Request extension </b>
                <div>
                  Sometimes life gets in the way. Learn how you can request an
                  extension from RSBC on your case.
                </div>
              </mat-card-content>
            </mat-card>
            
          </div>
         
          
        } @else if (display === HelpTopics.UPLOAD_EXTRA_DOCUMENT) {
          <div class="helpDetails">
            <b style="padding: 12px">Upload an Extra Document</b>
            <p>
              Under the Submission Requirements tab on a case page, RSBC lists
              all the submissions they require from you. If RSBC has not asked
              for a specific document, they probably do not require it at this
              time.
            </p>
          </div>
        } @else if (display === HelpTopics.VIEW_DMER_SUBMISSION) {
          <div class="helpDetails">
            <b style="padding: 12px">View DMER Submission</b>
            <p>
              In the Submission History tab, it displays the documents and
              reports that RSBC has received to date on all of your cases. You
              are not able to download a copy of these documents. To view any
              personal information collected about you, you will be required to
              submit a Freedom of Information request. Please enquire by calling
              250-387-1321, or faxing 250-387-9843, or email
              <a href="mailto:FOI.Requests@gov.bc.ca">FOI Request Support</a>
            </p>
            <p>
              Find more information on Freedom of Information Requests
              <a
                href="https://www2.gov.bc.ca/gov/content/governments/about-the-bc-government/open-government/open-information/freedom-of-information"
                target="_blank"
                >here</a
              >
            </p>
          </div>
        } @else if (display === HelpTopics.RECEIVED_AN_INCORRECT_LETTER) {
          <div class="helpDetails">
            <b style="padding: 12px">Received an incorrect letter</b>
            <p>
              The Letters to Driver tab displays all the letters that RSBC has
              sent you about your case. If you received a RSBC letter in error,
              please call RSBC at 250-387-7747 or toll free at 1-855-387-7747.
            </p>
          </div>
        } @else if (display === HelpTopics.DOCUMENT_HISTORY) {
          <div class="helpDetails">
            <b style="padding: 12px">Cannot see document in Submission History</b>
            <p>
              The Submission History tab displays the documents and reports that
              RSBC has received to date on all of your cases. Please note that
              if your medical practitioner or you have sent a document through
              fax, it might take a while for it to appear as received.
            </p>
          </div>
        } @else if (display === HelpTopics.REPLACEMENT_DOCUMENT) {
          <div class="helpDetails">
            <b style="padding: 12px">Submit a replacement document</b>
            <p>
              The Submission History tab displays the documents and reports that
              RSBC has received to date on all of your cases. ** If you have
              uploaded an incorrect file, please call RSBC at 250-387-7747 or
              toll free at 1-855-387-7747.
            </p>
          </div>
        } @else if (display === HelpTopics.REQUEST_EXTENSION) {
          <div class="helpDetails">
            <b style="padding: 12px">Request extension</b>
            <p>
              The Dashboard tab displays Outstanding Documents. RSBC sent you a
              letter advising that further medical information is required
              within a timeframe. If you require an extension for this
              submittal, please call RSBC at 250-387-7747 or toll free at
              1-855-387-7747.
            </p>
          </div>
        }
       
      </div>

      <!-- <div class="call-back-card">
        <mat-card (click)="helpcard(HelpTopics.REQUEST_CALLBACK)">
          <mat-card-content
            ><b> Request a Call Back </b>
            <div>
              You can request a call back from a RoadSaftyBC Client Services representative
            </div>
          </mat-card-content>
        </mat-card>
      </div> -->

      @if (showCallBackCreate) {
        <div class="createCallBack">
          <div class="callback">
            <b>Still require assistance?</b>
            <button
              [class.disabledButton]="disableCallBack"
              [disabled]="disableCallBack"
              [class.callBackButton]="!disableCallBack"
              (click)="onRequestCallBack()"
            >
              Request Call Back
            </button>
            <button
              class="callBackButton"
              (click)="viewRequest($event, 'contact')"
            >
              Contact RSBC
            </button>
           
          </div>
          <div style="padding: 24px" *ngIf="showCallBack">
            <h3>Request Call Back</h3>
            <form>
              <mat-card>
                <mat-card-content>
                  <b>*** There is a maximum of one active call back request at any time.</b>
                  <p>
                    You can also call RoadSafetyBC directly by phone toll free at 1-855-387-7747 0r 250-387-7747 locally in Greater Victoria.
                  </p>
                </mat-card-content>
              </mat-card>
              <div class="padding-top">
                <b>What time would you prefer your call back? </b>
                <p>
                  Our Client Services Representatives will do their best to meet your  preference within 48 hours.
                </p>
                <div style="padding-left: 10px;">
                  <label>
                    <input
                      name="callback_request"
                      type="radio"
                      [value]="0"
                      [formControl]="callbackRequestForm.controls.preferredTime"
                    />9:00am - 4:00pm
                  </label>
                  <label>
                    <input
                      name="callback_request"
                      type="radio"
                      [value]="1"
                      [formControl]="callbackRequestForm.controls.preferredTime"
                    />9:00am and 12:00pm
                  </label>
                  <label>
                    <input
                      name="callback_request"
                      type="radio"
                      [value]="2"
                      [formControl]="callbackRequestForm.controls.preferredTime"
                    />12:01pm - 4:00pm
                  </label>
                </div>
                <div class="padding-top" >
                  <b>What do you wish to discuss?</b>
                  <p>*** Maximum 300 characters</p>
                  <div>
                    <b>REQUIRED:</b>PROVIDE YOUR PREFERRED CALL BACK PHONE NUMBER
                  </div>
                  <div>
                    <mat-form-field class="callbackDescription" for="description">
                      <textarea
                       matInput
                        rows="3" 
                        cols="40"
                        [formControl]="callbackRequestForm.controls.description"
                      ></textarea>
                      @if (
                        callbackRequestForm.controls.description.hasError("required")
                      ) {
                        <mat-error>This Field is required</mat-error>
                      }
                      @if (callbackRequestForm.controls.description.hasError("maxlength")) {
                        <mat-error>Description cannot exceed 300 characters</mat-error>
                      }
                  </mat-form-field>
                  </div>
                </div>
              </div>
              
            
              <div class="submitButtonContainer">
                <button
                  class="primaryButton"
                  mat-flat-button
                  (click)="createCallBack()"
                >
                  Save
                </button>
                <button class="cancelButton" (click)="back()">Back</button>
              </div>
            </form>
          </div>
        </div>
      }
    </div>
    <div id="contact">
      <div style="padding-top: 150px" >
        <h2>Contact RoadSafetyBC</h2>
        <p>
          If the topics above don't give you the answer you're looking for, you
          can call a client service representative at RSBC. <br />
          <br />
          <b>Hours of operation</b>: Monday to Friday from 9am to 4pm <br />
  
          <b>Phone</b>: 1-855-387-7747 <br />
          <b>Greater Victoria</b> : 250-387-7747
        </p>
      </div>
    </div>
  </div>
</div>
